{"version":3,"sources":["components/Navbar.js","icons/upload.svg","components/Slider.js","components/ErrorHandler.js","config.js","components/Canvas.js","components/ProgressDisplay.js","Predictor.js","containers/Detector.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","titleText","margin","fontSize","fontWeight","toolbar","paddingLeft","paddingRight","minHeight","display","alignItems","NavBar","classes","AppBar","className","href","style","textDecoration","color","lineHeight","IconButton","edge","GitHub","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","_ref3","_ref4","SvgUpload","_ref","svgRef","title","titleId","props","height","viewBox","width","xmlns","ref","id","ForwardRef","sliderContainer","textAlign","disabled","wrapper","marginBottom","slider","maxWidth","appearance","borderRadius","background","outline","opacity","transition","palette","primary","main","cursor","Slider","value","min","max","onChange","type","ErrorHandler","errorMessage","errorConfirmed","Dialog","open","onClose","DialogContent","DialogContentText","INPUT_SIZE","CANVAS_WIDTH","Canvas","drawBoundaries","numCols","numRows","predictions","ctx","canvas","getContext","imgObj","clearRect","strideWidth","strideHeight","windowWidth","windowHeight","fillStyle","j","fillRect","prevProps","Component","withStyles","position","zIndex","top","left","filter","progressDisplay","padding","transform","ProgressDisplay","progress","CircularProgress","variant","Typography","component","modelPromise","tf","process","catch","err","console","log","Predictor","setProgress","getPredictions","a","model","Error","counter","Promise","resolve","reject","predictBatch","sliceStart","sliceEnd","boxes","cropsBatch","cropAndResize","imgTensor","slice","boxIndices","newPredictions","predict","dispose","data","newPredictionsTypedArr","_","map","pred","Math","round","concat","Array","from","floor","setTimeout","bind","getBoxes","push","fromPixels","Detector","state","loading","windowSize","minWindowSize","maxWindowSize","sliderTouched","fileSelectedHandler","event","ext","files","name","split","toLowerCase","includes","setState","Image","src","URL","createObjectURL","onload","windowData","verifyImageDimensions","e","makeRequest","predictor","message","L","H","delta","pow","ceil","previewWidthPercent","detector","fileInput","alt","windowPreview","paddingBottom","preview","upload","onClick","click","uploadIcon","options","Button","marginLeft","marginTop","flexDirection","backgroundColor","verticalAlign","fill","justifyContent","alignSelf","border","overflow","breakpoints","down","order","paddingTop","footer","App","createMuiTheme","indigo","secondary","green","ThemeProvider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fb5f19bd.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport { GitHub } from '@material-ui/icons';\r\nimport { IconButton } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  titleText: {\r\n    margin: '0.2em auto 0.2em 0',\r\n    fontSize: '1.25rem',\r\n    fontWeight: 300\r\n  },\r\n  toolbar: {\r\n    paddingLeft: 32,\r\n    paddingRight: 32,\r\n    minHeight: 56,\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  }\r\n}));\r\n\r\nexport default function NavBar() {\r\n  const classes = useStyles();\r\n  return (\r\n    <AppBar>\r\n      <div className={classes.toolbar}>\r\n        <p className={classes.titleText}>CONCRETE CRACK DETECTOR</p>\r\n        <a href=\"https://github.com/tulio-vieira/\" style={{textDecoration: 'none', color: 'inherit', lineHeight: 0}}>\r\n          <IconButton edge=\"end\" color=\"inherit\">\r\n            <GitHub />\r\n          </IconButton>\r\n        </a>\r\n      </div>\r\n    </AppBar>\r\n  );\r\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m432 0h-352c-44.113281 0-80 35.886719-80 80v280c0 44.113281 35.886719 80 80 80h273c11.046875 0 20-8.953125 20-20s-8.953125-20-20-20h-73.664062l-45.984376-59.65625 145.722657-185.347656 98.097656 108.421875c5.546875 6.136719 14.300781 8.21875 22.019531 5.246093 7.714844-2.976562 12.808594-10.394531 12.808594-18.664062v-170c0-44.113281-35.886719-80-80-80zm40 198.085938-79.167969-87.503907c-3.953125-4.371093-9.640625-6.785156-15.523437-6.570312-5.886719.207031-11.386719 2.996093-15.03125 7.628906l-154.117188 196.023437-52.320312-67.875c-3.785156-4.910156-9.636719-7.789062-15.839844-7.789062-.003906 0-.007812 0-.011719 0-6.203125.003906-12.058593 2.886719-15.839843 7.804688l-44.015626 57.21875c-6.734374 8.757812-5.097656 21.3125 3.65625 28.046874 8.757813 6.738282 21.3125 5.097657 28.050782-3.65625l28.175781-36.632812 88.816406 115.21875h-148.832031c-22.054688 0-40-17.945312-40-40v-280c0-22.054688 17.945312-40 40-40h352c22.054688 0 40 17.945312 40 40zm0 0\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m140 72c-33.085938 0-60 26.914062-60 60s26.914062 60 60 60 60-26.914062 60-60-26.914062-60-60-60zm0 80c-11.027344 0-20-8.972656-20-20s8.972656-20 20-20 20 8.972656 20 20-8.972656 20-20 20zm0 0\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m468.476562 302.941406c-.058593-.058594-.117187-.121094-.175781-.179687-9.453125-9.519531-22.027343-14.761719-35.410156-14.761719-13.34375 0-25.882813 5.210938-35.324219 14.675781l-38.613281 38.085938c-7.863281 7.753906-7.949219 20.417969-.191406 28.28125 7.753906 7.863281 20.417969 7.953125 28.28125.195312l25.847656-25.492187v112.253906c0 11.046875 8.953125 20 20 20s20-8.953125 20-20v-111.644531l24.738281 25.554687c3.921875 4.054688 9.144532 6.089844 14.371094 6.089844 5.011719 0 10.027344-1.871094 13.910156-5.628906 7.9375-7.683594 8.140625-20.34375.457032-28.28125zm0 0\"\n});\n\nfunction SvgUpload(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"512pt\",\n    viewBox: \"0 -18 512 512\",\n    width: \"512pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUpload);\nexport default __webpack_public_path__ + \"static/media/upload.cb512b27.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  sliderContainer: {\r\n    textAlign: 'center',\r\n    '& p': {\r\n      margin: '0 0.5em'\r\n    }\r\n  },\r\n  disabled: {\r\n    textAlign: 'center',\r\n    '& p': {\r\n      margin: '0 0.5em',\r\n      color: '#707070'\r\n    }\r\n  },\r\n  wrapper: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginBottom: 8\r\n  },\r\n  slider: {\r\n    maxWidth: 300,\r\n    appearance: 'none',\r\n    height: 15,\r\n    borderRadius: 5,  \r\n    background: '#d3d3d3',\r\n    outline: 'none',\r\n    opacity: 0.7,\r\n    transition: 'opacity .2s',\r\n    '&::-webkit-slider-thumb': {\r\n      appearance: 'none',\r\n      width: 25,\r\n      height: 25,\r\n      borderRadius: '50%', \r\n      background: theme.palette.primary.main,\r\n      cursor: 'pointer'\r\n    },\r\n    '&:disabled&::-webkit-slider-thumb': {\r\n      background: 'grey',\r\n      cursor: 'not-allowed'\r\n    }\r\n  }\r\n}));\r\n\r\nexport default function Slider({disabled, value, min, max, onChange}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={disabled ? classes.disabled : classes.sliderContainer}>\r\n      <div className={classes.wrapper}>\r\n        <p>{min}</p>\r\n          <input\r\n            className={classes.slider}\r\n            type='range'\r\n            disabled={disabled}\r\n            value={value}\r\n            min={min}\r\n            max={max}\r\n            onChange={onChange} />\r\n        <p>{max}</p>\r\n      </div>\r\n      <p>Window size: {value}px</p>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { Dialog, DialogContent, DialogContentText } from '@material-ui/core';\r\n\r\nexport default function ErrorHandler({errorMessage, errorConfirmed}) {\r\n  return (\r\n    <Dialog\r\n      open={errorMessage !== null}\r\n      onClose={errorConfirmed}>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          {errorMessage}\r\n        </DialogContentText>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}","// Input size of the CNN\r\nexport const INPUT_SIZE = 227;\r\n// size of the batch of images to be predicted at once\r\nexport const BATCH_SIZE = 124;\r\n// width of canvas while animating through loading state.\r\n// Set it to a high resolution, so that the moving rectangle outline\r\n// doesn't appear pixelated\r\nexport const CANVAS_WIDTH = 1000;\r\nexport const NUM_PROGRESS_UPDATES = 5;","import React, { Component } from 'react';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport {CANVAS_WIDTH} from '../config';\r\n\r\nconst styles = () => ({\r\n  canvas: {\r\n    width: '100%',\r\n    position: 'absolute',\r\n    zIndex: 5,\r\n    top: 0,\r\n    left: 0,\r\n    filter: 'opacity(50%)'\r\n  }\r\n});\r\n\r\nclass Canvas extends Component {\r\n\r\n  componentDidMount() {\r\n    this.drawBoundaries();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.predictions && this.props.predictions !== prevProps.predictions) this.drawBoundaries();\r\n  }\r\n  \r\n  drawBoundaries = () => {\r\n    const { numCols, numRows, predictions } = this.props;\r\n    const ctx = this.canvas.getContext('2d');\r\n    this.canvas.width = CANVAS_WIDTH;\r\n    this.canvas.height = this.props.imgObj.height * CANVAS_WIDTH / this.props.imgObj.width;\r\n    ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    const strideWidth = this.canvas.width / (numCols + 1);\r\n    const strideHeight = this.canvas.height / (numRows + 1);\r\n    const windowWidth = strideWidth * 2;\r\n    const windowHeight = strideHeight * 2;\r\n    ctx.fillStyle = '#a90000';\r\n    for (let j = 0; j < numRows; j++) {\r\n      for (let i = 0; i < numCols; i++) {\r\n        let index = j * numCols + i;\r\n        if (predictions[index]) {\r\n          ctx.fillRect(strideWidth * i, strideHeight * j, windowWidth, windowHeight)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <canvas\r\n        className={this.props.classes.canvas}\r\n        ref={canvas => this.canvas = canvas} />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Canvas);","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  progressDisplay: {\r\n    zIndex: 8,\r\n    background: 'rgba(0, 0, 0, 0.5)',\r\n    padding: 16,\r\n    borderRadius: '50%',\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    '& span': {\r\n      position: 'absolute',\r\n      top: '50%',\r\n      left: '50%',\r\n      transform: 'translate(-50%, -50%)'\r\n    }\r\n  }\r\n}));\r\n\r\nexport default function ProgressDisplay({progress}) {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.progressDisplay}>\r\n      <CircularProgress variant=\"indeterminate\" color='primary' />\r\n      <Typography variant=\"caption\" component=\"span\" color=\"inherit\">{progress}%</Typography>\r\n  </div>\r\n  );\r\n}","import * as tf from '@tensorflow/tfjs';\r\nimport {INPUT_SIZE, BATCH_SIZE, NUM_PROGRESS_UPDATES} from './config';\r\n\r\nlet modelPromise = tf.loadLayersModel(process.env.PUBLIC_URL + '/tfjs_model/model.json')\r\n  .catch(err => {\r\n    console.log(err);\r\n  });\r\n\r\nexport default class Predictor {\r\n  constructor(imgObj, numRows, numCols, setProgress) {\r\n    this.imgTensor = tf.tidy(() => {\r\n      let imgTensor = tf.browser.fromPixels(imgObj);\r\n      imgTensor = tf.div(imgTensor, tf.scalar(255));\r\n      return tf.expandDims(imgTensor, 0);\r\n    });\r\n    this.numRows = numRows;\r\n    this.numCols = numCols;\r\n    this.setProgress = setProgress;\r\n    this.getBoxes();\r\n    this.predictions = [];\r\n  }\r\n\r\n  getPredictions = async () => {\r\n    this.model = await modelPromise;\r\n    if (!this.model) throw new Error('Connection failed');\r\n    this.counter = 0;\r\n    return (await new Promise((resolve, reject) => this.predictBatch(0, resolve, reject)));\r\n  }\r\n\r\n  predictBatch = async (sliceStart, resolve, reject) => {\r\n    try {\r\n      let sliceEnd = (sliceStart + BATCH_SIZE > this.boxes.length) ? this.boxes.length : sliceStart + BATCH_SIZE;\r\n\r\n      let cropsBatch = tf.image.cropAndResize(\r\n        this.imgTensor,\r\n        this.boxes.slice(sliceStart, sliceEnd),\r\n        this.boxIndices.slice(sliceStart, sliceEnd),\r\n        [INPUT_SIZE, INPUT_SIZE]\r\n      );\r\n      let newPredictions = this.model.predict(cropsBatch);\r\n      cropsBatch.dispose();\r\n      const newPredictionsTypedArr = (await newPredictions.data()).filter((_, i) => (i % 2) ).map(pred => Math.round(pred));\r\n      newPredictions.dispose();\r\n      this.predictions = this.predictions.concat(Array.from(newPredictionsTypedArr));\r\n\r\n      if (sliceEnd / this.boxes.length > this.counter / NUM_PROGRESS_UPDATES) {\r\n        this.counter++;\r\n        this.setProgress(Math.floor(100 * sliceEnd / this.boxes.length));\r\n      }\r\n      if (sliceEnd === this.boxes.length) {\r\n        this.imgTensor.dispose();\r\n        delete this.boxes;\r\n        delete this.boxIndices;\r\n        resolve(this.predictions);\r\n      } else {\r\n        setTimeout(this.predictBatch.bind(this, sliceEnd, resolve, reject), 0);\r\n      }\r\n    } catch(err) {\r\n      console.log(err);\r\n      reject(err);\r\n    }\r\n  }\r\n  \r\n  getBoxes = () => {\r\n    let boxes = [];\r\n    let boxIndices = [];\r\n    // i -> row number; j -> column number\r\n    for(let j = 0; j < this.numRows; j++) {\r\n      for(let i = 0; i < this.numCols; i++) {\r\n        boxes.push([j / (this.numRows + 1), i / (this.numCols + 1), (j + 2) / (this.numRows + 1), (i + 2) / (this.numCols + 1)]);\r\n        boxIndices.push((j * this.numRows + i)/(this.numRows * this.numCols));\r\n      }\r\n    }\r\n    this.boxes = boxes;\r\n    this.boxIndices = boxIndices;\r\n  }\r\n}","import { Component } from \"react\";\r\nimport {ReactComponent as UploadSvg} from '../icons/upload.svg';\r\nimport { Button, withStyles } from \"@material-ui/core\";\r\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined';\r\nimport Slider from \"../components/Slider\";\r\nimport ErrorHandler from \"../components/ErrorHandler\";\r\nimport Canvas from \"../components/Canvas\";\r\nimport ProgressDisplay from '../components/ProgressDisplay';\r\nimport Predictor from '../Predictor';\r\nimport {INPUT_SIZE} from '../config';\r\n\r\nconst styles = (theme) => ({\r\n  detector: {\r\n    marginTop: 24,\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  },\r\n  upload: {\r\n    marginTop: 16,\r\n    backgroundColor: '#adadad',\r\n    padding: 16,\r\n    borderRadius: 16,\r\n    transition: 'background-color 0.1s ease',\r\n    '&:hover': {\r\n      cursor: 'pointer',\r\n      backgroundColor: '#616161'\r\n    }\r\n  },\r\n  title: {\r\n    fontWeight: 400\r\n  },\r\n  uploadIcon: {\r\n    height: 100,\r\n    verticalAlign: 'middle',\r\n    margin: '0 auto',\r\n    fill: '#314198'\r\n  },\r\n  options: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: '32px 0',\r\n    justifyContent: 'space-around',\r\n    alignSelf: 'stretch'\r\n  },\r\n  display: {\r\n    width: '100%',\r\n    maxWidth: 1000,\r\n    position: 'relative',\r\n    border: '5px solid #404040',\r\n    borderRadius: 3\r\n  },\r\n  windowPreview: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    zIndex: 10,\r\n    height: 0,\r\n    width: '100%',\r\n    overflow: 'hidden'\r\n  },\r\n  preview: {\r\n    position: 'absolute',\r\n    height: 0,\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    border: '5px solid red',\r\n    outline: '600px solid rgba(0, 0, 0, 0.5)'\r\n  },\r\n  [theme.breakpoints.down(450)]: {\r\n    options: {\r\n      flexDirection: 'column',\r\n      '& div': { order: -1 },\r\n      '& > *': {\r\n        margin: '8px 0'\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nclass Detector extends Component {\r\n  state = {\r\n    loading: false,\r\n    errorMessage: null,\r\n    windowSize: null,\r\n    minWindowSize: null,\r\n    maxWindowSize: INPUT_SIZE,\r\n    predictions: null,\r\n    imgObj: null,\r\n    sliderTouched: true,\r\n    numRows: 0,\r\n    numCols: 0,\r\n    progress: 0\r\n  };\r\n\r\n  fileSelectedHandler = (event) => {\r\n    try {\r\n      // check extension\r\n      let ext = event.target.files[0].name.split('.');\r\n      ext = ext[ext.length - 1].toLowerCase();\r\n      if (!['png', 'jpeg', 'jpg'].includes(ext)) return this.setState({errorMessage: \"Invalid File type\"});\r\n      let imgObj = new Image();\r\n      imgObj.src = URL.createObjectURL(event.target.files[0]);\r\n      imgObj.onload = () => {\r\n        // check dimensions\r\n        const windowData = this.verifyImageDimensions(imgObj.width, imgObj.height);\r\n        if (!windowData) return;\r\n        this.setState({\r\n          ...windowData,\r\n          imgObj,\r\n          predictions: null,\r\n          sliderTouched: true\r\n        });\r\n      };\r\n    } catch(e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n  \r\n  makeRequest = async () => {\r\n    if (!this.state.imgObj) return;\r\n    const numRows = Math.floor( (this.state.imgObj.height * 2) / this.state.windowSize - 1 );\r\n    const numCols = Math.floor( (this.state.imgObj.width * 2) / this.state.windowSize - 1 );\r\n    this.setState({\r\n      loading: true,\r\n      numRows,\r\n      numCols \r\n    });\r\n    try {\r\n      const predictor = new Predictor(this.state.imgObj, numRows, numCols, (progress) => this.setState({progress}));\r\n      const predictions = await predictor.getPredictions();\r\n      this.setState({\r\n        loading: false,\r\n        predictions,\r\n        sliderTouched: false,\r\n        progress: 0\r\n      });\r\n    } catch(err) {\r\n      this.setState({\r\n        loading: false,\r\n        errorMessage: err.message || 'Something went wrong...',\r\n        sliderTouched: false,\r\n        progress: 0\r\n      });\r\n    }\r\n  }\r\n\r\n  verifyImageDimensions = (L, H) => {\r\n    let delta = Math.pow( ( H*H + 7598*H*L + L*L ), 0.5 );\r\n    let minWindowSize = Math.ceil( (delta - H - L) / 1899 );\r\n    if (minWindowSize < 10 ) minWindowSize = 10;\r\n    let maxWindowSize = INPUT_SIZE;\r\n    if (this.state.maxWindowSize > L || this.state.maxWindowSize > H) {\r\n      maxWindowSize = L < H ? L : H;\r\n    }\r\n    if (minWindowSize > maxWindowSize || L < 10 || H < 10) {\r\n      this.setState({ errorMessage: 'Invalid size for image' });\r\n      return false;\r\n    }\r\n    return {\r\n      minWindowSize,\r\n      windowSize: Math.ceil((maxWindowSize + minWindowSize)/2),\r\n      maxWindowSize\r\n    };\r\n  }\r\n  \r\n  render() {\r\n    const classes = this.props.classes;\r\n    const previewWidthPercent = this.state.imgObj ? this.state.windowSize * 100 / this.state.imgObj.width + '%' : null;\r\n\r\n    return (\r\n      <div className={classes.detector}>\r\n        <h2 className={classes.title}>Detect concrete cracks with Convolutional Neural Network Classifier!</h2>\r\n        <input\r\n          style={{display: 'none'}}\r\n          type='file'\r\n          onChange={this.fileSelectedHandler}\r\n          ref={fileInput => this.fileInput = fileInput}/>\r\n\r\n        {this.state.imgObj ?\r\n          <div className={classes.display}>\r\n\r\n            <img src={this.state.imgObj.src} style={{width: '100%'}} alt=''/>\r\n\r\n            {this.state.predictions &&\r\n              <Canvas\r\n                imgObj={this.state.imgObj}\r\n                numRows={this.state.numRows}\r\n                numCols={this.state.numCols}\r\n                predictions={this.state.predictions} />\r\n            }\r\n\r\n            {this.state.loading && <ProgressDisplay progress={this.state.progress} />}\r\n            \r\n            {previewWidthPercent && !this.state.loading && this.state.sliderTouched &&\r\n              <div className={classes.windowPreview} style={{\r\n                paddingBottom: this.state.imgObj.height * 100 / this.state.imgObj.width + '%'}}>\r\n    \r\n                <div className={classes.preview} style={{\r\n                  width: previewWidthPercent,\r\n                  paddingBottom: previewWidthPercent}} />\r\n              </div>\r\n            }\r\n          </div>\r\n        :\r\n          <div className={classes.upload} onClick={() => this.fileInput.click()}>\r\n            <UploadSvg className={classes.uploadIcon} width={null} height={null}/>\r\n          </div>\r\n        }\r\n\r\n        <div className={classes.options}>\r\n\r\n          {this.state.imgObj &&\r\n            <Button\r\n              variant='outlined'\r\n              disabled={this.state.loading}\r\n              onClick={() => this.fileInput.click()}>\r\n              <ImageOutlinedIcon />\r\n              <span style={{marginLeft: '0.5em'}}>Choose Image</span>\r\n            </Button>\r\n          }\r\n          \r\n          {this.state.imgObj &&\r\n            <Slider\r\n              disabled={this.state.loading}\r\n              value={this.state.windowSize}\r\n              min={this.state.minWindowSize}\r\n              max={this.state.maxWindowSize}\r\n              onChange={(e) => this.setState({ windowSize: e.target.value, sliderTouched: true })} />\r\n          }\r\n\r\n          {this.state.imgObj &&\r\n            <Button\r\n              variant='contained'\r\n              color='secondary'\r\n              disabled={this.state.loading || !this.state.sliderTouched}\r\n              onClick={this.makeRequest}>\r\n              Detect\r\n            </Button>\r\n          }\r\n       \r\n        </div>\r\n\r\n        <ErrorHandler\r\n          errorMessage={this.state.errorMessage}\r\n          errorConfirmed={() => this.setState({errorMessage: null})} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Detector);","import React from 'react';\nimport NavBar from './components/Navbar';\nimport Detector from './containers/Detector'\nimport { createMuiTheme, makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport { GitHub } from '@material-ui/icons';\nimport { green, indigo } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    margin: '0 20%',\n    paddingTop: 60,\n    minHeight: 'calc(100vh - 60px - 72.8px)',\n    [theme.breakpoints.down(960)]: {\n        margin: '0 10%',\n    },\n    [theme.breakpoints.down(600)]: {\n        margin: '0 5%',\n    },\n    [theme.breakpoints.down(350)]: {\n        margin: '0 16px',\n    }\n  },\n  footer: {\n    width: '100%',\n    textAlign: 'center',\n    padding: '8px 0',\n    backgroundColor: '#212121',\n    '& p': {\n      fontSize: '0.8em',\n      margin: '0.5em',\n      color: '#cacaca'\n    },\n    '& a': {\n      display: 'inline-flex',\n      alignItems: 'center',\n      color: 'inherit'\n    }\n  }\n}));\n\nexport default function App() {\n  const classes = useStyles();\n  const theme = createMuiTheme({\n    palette: {\n      type: 'dark',\n      primary: indigo,\n      secondary: green\n    }\n  });\n  return (\n    <ThemeProvider theme={theme}>\n      <NavBar />\n      <main className={classes.wrapper}>\n        <Detector />\n      </main>\n      <footer className={classes.footer}>\n        <p>created by: Tulio Vieira</p>\n        <p><a href=\"https://github.com/tulio-vieira/\"><GitHub style={{height: '0.8em'}}/><span>/tulio-vieira</span></a></p>\n      </footer>\n    </ThemeProvider>\n  );\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}